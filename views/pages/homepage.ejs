<div id="app">
  <%- partial('./../layouts/header.ejs') %>
  <div class="container">
    <div class="container__item">
      <form class="form" method="get" action="/api/install">
        <input v-model="shop" type="text" class="form__field" placeholder="<%= __('Your Shopify Store') %>" name="shop" required />
        <button @click="installApp()" type="submit" class="btn btn--primary btn--inside uppercase"><%= __('Install') %></button>
      </form>
    </div>
  </div>
  <div v-if="loading" class="loading-box middle">
    <div class="container-box shadow">
      <div class="message">
        <p style="color: rgb(120, 111, 166) !important;"><%= __('Loading') %>...</p>
      </div>
       <div class="image">
         <img src="/images/loading.gif" alt="<%= __('Loading') %>...">
       </div>
     </div>
   </div>
  <%- partial('./../layouts/footer.ejs') %>
</div>

<script type="text/javascript">
  const app = new Vue({
    el: '#app',
    data: {
      loading: false,
      shop: ''
    },
    methods: {
      installApp: function() {
        this.shop !== ''? this.loading = true : null;
      }
    }
  });
</script/>
